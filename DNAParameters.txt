#---------------------------------------------------------------------------------------------------
# Program control
#---------------------------------------------------------------------------------------------------
# Pauses
Ts/PauseBeforeInit = "False" # This allows checking memory use before any physics tables are loaded
Ts/PauseBeforeSequence = "False" # This allows checking memory use before any histories are run
Ts/PauseBeforeQuit = "False" # This allows visualizing graphics before exiting
# Verbosity
i:Ts/RunVerbosity = 0
i:Ts/EventVerbosity = 0
i:Ts/TrackingVerbosity = 0
i:Ts/SequenceVerbosity = 0
i:Ts/ChemistryVerbosity = 2

#---------------------------------------------------------------------------------------------------
# Geometry
#---------------------------------------------------------------------------------------------------
includeFile = /home/skadi/topas_extensions/clustered_dna_damage_indirect/supportFiles/GeometryParameters.txt

#---------------------------------------------------------------------------------------------------
# Chemistry
#---------------------------------------------------------------------------------------------------
includeFile = /home/skadi/topas_extensions/clustered_dna_damage_indirect/supportFiles/TOPASChemistry_Extended.txt

#---------------------------------------------------------------------------------------------------
# Physics
#---------------------------------------------------------------------------------------------------
sv:Ph/Default/Modules = 1 "g4em-dna_opt2and4" "TsEmDNAChemistryExtended"
d:Ph/Default/EMRangeMin = 10. eV # minimum for EM tables
b:Ph/Default/Fluorescence = "True"
b:Ph/Default/Auger = "True"
b:Ph/Default/AugerCascade = "True"
b:Ph/Default/DeexcitationIgnoreCut = "True"

#---------------------------------------------------------------------------------------------------
# Particle source
#---------------------------------------------------------------------------------------------------
s:So/Example/Type = "VolumeOrSurface"
s:So/Example/Component = "Cell"
s:So/Example/DistributePrimariesAtVolumeRegion = "volume"
s:So/Example/DirectPrimariesTo = "isotropic"
ic:So/Example/NumberOfHistoriesInRun = 500
i:Ts/ShowHistoryCountAtInterval = 10
s:So/Example/BeamEnergySpectrumType = "Discrete"

#---------------------------------------------------------------------------------------------------
# Clustered DNA damage scorer
#---------------------------------------------------------------------------------------------------
s:Sc/ClusterScorer/Quantity = "ClusteredDNADamage"
s:Sc/ClusterScorer/Component = "MyDNA"
b:Sc/ClusterScorer/PropagateToChildren = "True"
sv:Sc/ClusterScorer/OnlyIncludeIfInMaterial = 3 "G4_WATER_HISTONE" "G4_WATER_DNA" "G4_WATER"
includeFile = /home/skadi/topas_extensions/clustered_dna_damage_indirect/supportFiles/DNADAmageParameters.txt

# Output files
s:Sc/ClusterScorer/OutputType = "ASCII" # Applies to main output file (damage yields) only
b:Sc/ClusterScorer/OutputToConsole = "True"
s:Sc/ClusterScorer/IfOutputFileAlreadyExists = "Overwrite"
b:Sc/ClusterScorer/OutputHeaders = "False"

# Specify whether to terminate simulation once a dose threshold has been exceeded
b:Sc/ClusterScorer/UseDoseThreshold = "True"
d:Sc/ClusterScorer/TotalDose = 1 Gy
d:Sc/ClusterScorer/DoseThreshold = Sc/ClusterScorer/TotalDose Gy * Sc/ClusterScorer/RelativeDose
includeFile = /home/skadi/topas_extensions/clustered_dna_damage_indirect/spectra/energy_bins.txt

# Options to modify how damage yields are recorded
b:Sc/ClusterScorer/IncludeDirectDamage = "True"
b:Sc/ClusterScorer/IncludeIndirectDamage = "True"
b:Sc/ClusterScorer/ScoreClusters = "True" # toggle whether or not to record clustered DNA damage
b:Sc/ClusterScorer/RecordDamagePerEvent = "True"
b:Sc/ClusterScorer/RecordDamagePerFiber= "False"


i:Ts/NumberOfThreads = 1

# Added to template for each scoring volume, neutron energy, and secondary particle
# includeFile = /home/skadi/topas_extensions/clustered_dna_damage_indirect/spectra/spectrum_n1keV_inter_proton.txt
# includeFile = /home/skadi/topas_extensions/clustered_dna_damage_indirect/relative_doses/reldose_n1keV_inter_proton.txt
# Added to parameter job files
# i:Ts/Seed = 1
# s:Sc/ClusterScorer/OutputFile = "damage_yields"
# s:Sc/ClusterScorer/FileRunSummary = "run_summary"
# s:Sc/ClusterScorer/FileComplexDSB = "data_comp_dsb"
# s:Sc/ClusterScorer/FileNonDSBCluster = "data_non_dsb"
